---
- name: Configure CSR1000v
hosts: CSR1kv
gather_facts: false
connection: local

tasks:
- name: Configure IPv6 Address
ios_config:
parents:
- interface GigabitEthernet1
lines:
- description IPv6 addresses (GUA and Link Local)
- ipv6 address 2001:db8:acad:1::1/64
- ipv6 address fe80::1 link-local

- name: Display the interface ipv6 addresses of the hosts
ios_command:
commands:
- show ipv6 int brief
register: output

- name: Save the output of ipv6 addresses to a file
copy:
content: "{{ output.stdout[0] }}"
dest: "backups/showipv6_run_{{ inventory_hostname }}.txt"
